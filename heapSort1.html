<!DOCTYPE html>
<html>

<head>
    <title>HeapSort</title>
    <meta charset=utf-8">

</head>

<body>

<h2>HeapSort</h2>
<hr />


<p>
    <b>User Sequence:</b>
</p>
<p>
    <input id = "userInput" type = "text" name = "userInput" boarder = "1" +
           value = "please enter a number sequence in format: 4 2 8 9 6 3 ..." size = "80">
    <button style="width:70px" id = "go" onclick = "main()">Go</button>
</p>

<p>
    <b>Sorted Sequence:</b>
</p>
<p>
    <input id = "sortedSequence" type = "text" name = "sortedSequence" readonly size = "80">
</p>

    <script>

        function main(){
            var userInput = document.getElementById("userInput").value;
            var operativeArray = inputSplitter(userInput);
            var sortedArray = heapSorter(operativeArray);
            document.getElementById("sortedSequence").value = sortedArray;
        }

        function inputSplitter(userInput){
            var inputArray = userInput.split(" ");
            return inputArray;
        }

        function heapSorter(operativeArray)
        {
            var A = operativeArray;
            if (A.length == 0){
                return []
            };
            var n = A.length;
            var i = Math.floor(n/2);
            var j, k, t;
            while (true){
                if (i > 0){
                    t = A[--i];
                }
                else {
                    n--;
                    if (n == 0){
                        return A;
                    }
                t = A[n];  A[n] = A[0];
                }

                j = i;  k = j*2+1;
                while (k < n){
                    if (k+1 < n && A[k+1] > A[k]){
                        k++;
                    }
                    if (A[k] > t){
                        A[j] = A[k];  j = k;  k = j*2+1;
                    }
                    else break;
                }
                A[j] = t;
            }
        }
    </script>
</body>
</html>
